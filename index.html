<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width" , initial-scale="1">
    <title>금준호 포트폴리오</title>
    <link rel="stylesheet" href="./css/bootstrap.css">
    <script src="./data.js"></script>
    <script type="text/javascript">
        function orderChange() {
            var orderSelect = document.getElementById("order");
            if (orderSelect.value == "규모순") {
                location.href = './index.php?order=size';
            }
            else {
                location.href = './index.php';
            }
        }

        function loadData() {
            var projectList = document.getElementById('projectList')
            for (var proejct of this.portfolioData) {
                projectList.appendChild(new ProjectCard(proejct))
            }
        }

        class ProjectCard extends HTMLElement {
            proejctData = {}

            attributes = [
                'url',
                'title',
                'type',
                'explanation',
                'date',
                'language'
            ]

            constructor(proejct) {
                super()
                this.proejctData = proejct
            }

            connectedCallback() {
                this.attachShadow({ mode: 'open' })

                this.shadowRoot.appendChild(cardTempalte.content.cloneNode(true))
                for (var attribute of this.attributes) {
                    var elements = this.shadowRoot.getElementById(attribute)
                    if (!elements) {
                        console.warn(`${elements} is not found`)
                        continue
                    }

                    if (attribute === 'url') {
                        elements.setAttribute('src', this.proejctData[attribute])
                        continue
                    }
                    elements.innerText = this.proejctData[attribute]
                }
            }
        }

        customElements.define('project-card', ProjectCard)
    </script>
</head>

<body onload="loadData()">
    <template id="cardTempalte">
        <link rel="stylesheet" href="./css/bootstrap.css">
        <div class="container bs-docs-container">

            <div class='row alert alert-dark'>
                <div class='col-sm-4 embed-responsive embed-responsive-16by9'>
                    <iframe class='embed-responsive-item' id='url'></iframe>
                </div>
                <div class='col'>
                    <h5>
                        <strong id='title'></strong>
                        <span class='badge badge-pill badge-secondary type'></span>
                    </h5>
                    <h6 id="explanation"></h6>
                    <p style='margin:8px;' id="date"></p>
                    <hr class='my-1' />
                    <span class='badge badge-secondary' id='language'></span>
                </div>
            </div>
        </div>
    </template>

    <div class="container">
        <div class="jumbotron">
            <div class="container row">
                <div class="col-sm-3">
                    <img src='./img/face.png' class="img-thumbnail rouned-circle mx-lg-5" alt="금준호" />
                </div>
                <div class="col">
                    <h2 class="text-left"><strong>iubns</strong></h2>
                    <h6 class="text-left">● 스마트 팩토리 회사에서 Vue + Node를 이용하여 웹 개발중
                        <br />이메일 : iubns@naver.com
                    </h6>
                    <h6>-코딩이 재미있어서 이것저것 만들다보니 많은 프로그램을 만들게 되었습니다.
                        <br />지금까지 만들었던 프로그램중 일부를 소개합니다!-
                    </h6>
                    <h6>주로 C#으로 개발을 하지만 다른 언어들(JAVA, PHP, JS, SQL)도 자주 사용합니다.</h6>
                </div>
            </div>
        </div>

        <div class="container">
        </div>
        <h4 class="text-left" style='float:left'>
            프로젝트
        </h4>
        <select class="btn btn-info mx-lg-2 dropdown-toggle" style='float:both;' onchange='orderChange()' id='order'>

            <div class='dropdown'>
                <div class='dropdown-menu' aria-labelledby='dropdownMenuLink'>
                    <option style='color:white;' class='dropdown-item'>규모순</option>
                    <option style='color:white;' class='dropdown-item' selected='selected'>최신순</option>
                </div>
            </div>
        </select>
    </div>
    <br />
    <div id="projectList">

    </div>
</body>

</html>